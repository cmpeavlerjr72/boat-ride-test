<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Boat Ride â€“ Last Run Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
    #map { height: 100vh; width: 100vw; }
    .popup pre { white-space: pre-wrap; font-size: 12px; }
  </style>
</head>
<body>
<div id="map"></div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  const scores = [{"t_local": "2026-01-27 08:00", "lat": 31.695083, "lon": -81.271267, "score_0_100": 74.2, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 5.213856, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.18003716957635232, "wave_period_s": 2.12, "wave_steepness": 0.007820171267353517, "tide_ft": 0.869, "tide_phase": "ebb", "tide_rate_ft_per_hr": -0.6949999999999995, "wave_source": "fetch", "fetch_nm": 0.6, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 27.3, "ndbc_obs_time": "2026-01-27 08:00", "fetch_nm": 0.6, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(0.6nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": -0.6949999999999995, "tide_phase": "ebb"}}}, {"t_local": "2026-01-27 08:20", "lat": 31.6879, "lon": -81.2515, "score_0_100": 74.3, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 5.213856, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.20185655556235388, "wave_period_s": 2.16, "wave_steepness": 0.008446196202233509, "tide_ft": 0.6749999999999999, "tide_phase": "ebb", "tide_rate_ft_per_hr": -0.4899999999999999, "wave_source": "fetch", "fetch_nm": 0.8, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 26.2, "ndbc_obs_time": "2026-01-27 08:20", "fetch_nm": 0.8, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(0.8nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": -0.4899999999999999, "tide_phase": "ebb"}}}, {"t_local": "2026-01-27 08:40", "lat": 31.68, "lon": -81.2315, "score_0_100": 73.1, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.2547457624554447, "wave_period_s": 2.18, "wave_steepness": 0.010464531534266441, "tide_ft": 0.5613333333333334, "tide_phase": "ebb", "tide_rate_ft_per_hr": -0.1799999999999996, "wave_source": "fetch", "fetch_nm": 0.9, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 25.1, "ndbc_obs_time": "2026-01-27 08:40", "fetch_nm": 0.9, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(0.9nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": -0.1799999999999996, "tide_phase": "ebb"}}}, {"t_local": "2026-01-27 09:00", "lat": 31.6702, "lon": -81.2105, "score_0_100": 71.7, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.951808, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.28508683198476353, "wave_period_s": 2.16, "wave_steepness": 0.011928764517497612, "tide_ft": 0.537, "tide_phase": "flood", "tide_rate_ft_per_hr": 0.06500000000000006, "wave_source": "fetch", "fetch_nm": 0.8, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 24.0, "ndbc_obs_time": "2026-01-27 09:00", "fetch_nm": 0.8, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(0.8nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 0.06500000000000006, "tide_phase": "flood"}}}, {"t_local": "2026-01-27 09:20", "lat": 31.6588, "lon": -81.188, "score_0_100": 73.2, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.28546953950916226, "wave_period_s": 2.24, "wave_steepness": 0.01110681524115568, "tide_ft": 0.608, "tide_phase": "flood", "tide_rate_ft_per_hr": 0.3200000000000003, "wave_source": "fetch", "fetch_nm": 1.2, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 22.6, "ndbc_obs_time": "2026-01-27 09:20", "fetch_nm": 1.2, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(1.2nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 0.3200000000000003, "tide_phase": "flood"}}}, {"t_local": "2026-01-27 09:40", "lat": 31.6458, "lon": -81.17, "score_0_100": 73.5, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3341079088597966, "wave_period_s": 2.36, "wave_steepness": 0.011710853821205326, "tide_ft": 0.77, "tide_phase": "flood", "tide_rate_ft_per_hr": 0.64, "wave_source": "fetch", "fetch_nm": 1.8, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 21.4, "ndbc_obs_time": "2026-01-27 09:40", "fetch_nm": 1.8, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(1.8nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 0.64, "tide_phase": "flood"}}}, {"t_local": "2026-01-27 10:00", "lat": 31.636, "lon": -81.1585, "score_0_100": 73.6, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 1.015, "tide_phase": "flood", "tide_rate_ft_per_hr": 0.8550000000000002, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.6, "ndbc_obs_time": "2026-01-27 10:00", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 0.8550000000000002, "tide_phase": "flood"}}}, {"t_local": "2026-01-27 10:20", "lat": 31.628887, "lon": -81.152698, "score_0_100": 73.6, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 1.3343333333333334, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.0350000000000004, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 10:20", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.0350000000000004, "tide_phase": "flood"}}}, {"t_local": "2026-01-27 10:40", "lat": 31.628887, "lon": -81.152698, "score_0_100": 73.6, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 1.712, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.22, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 10:40", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.22, "tide_phase": "flood"}}}, {"t_local": "2026-01-27 11:00", "lat": 31.628887, "lon": -81.152698, "score_0_100": 73.6, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 2.133, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.3149999999999995, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 11:00", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.3149999999999995, "tide_phase": "flood"}}}, {"t_local": "2026-01-27 11:20", "lat": 31.628887, "lon": -81.152698, "score_0_100": 73.6, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 2.5829999999999997, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.3749999999999996, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 11:20", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.3749999999999996, "tide_phase": "flood"}}}, {"t_local": "2026-01-27 11:40", "lat": 31.628887, "lon": -81.152698, "score_0_100": 73.6, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 3.0453333333333332, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.3949999999999996, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 11:40", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.3949999999999996, "tide_phase": "flood"}}}, {"t_local": "2026-01-27 12:00", "lat": 31.628887, "lon": -81.152698, "score_0_100": 73.6, "label": "ok", "reasons": ["Short period seas (2s)"], "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 3.507, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.3699999999999979, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 12:00", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.3699999999999979, "tide_phase": "flood"}}}];
  const segs = [{"a": [31.695083, -81.271267], "b": [31.6879, -81.2515], "color": "#f1c40f", "label": "ok", "score": 74.2, "t": "2026-01-27 08:00", "detail": {"wind_kt": 5.213856, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.18003716957635232, "wave_period_s": 2.12, "wave_steepness": 0.007820171267353517, "tide_ft": 0.869, "tide_phase": "ebb", "tide_rate_ft_per_hr": -0.6949999999999995, "wave_source": "fetch", "fetch_nm": 0.6, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 27.3, "ndbc_obs_time": "2026-01-27 08:00", "fetch_nm": 0.6, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(0.6nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": -0.6949999999999995, "tide_phase": "ebb"}}}, {"a": [31.6879, -81.2515], "b": [31.68, -81.2315], "color": "#f1c40f", "label": "ok", "score": 74.3, "t": "2026-01-27 08:20", "detail": {"wind_kt": 5.213856, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.20185655556235388, "wave_period_s": 2.16, "wave_steepness": 0.008446196202233509, "tide_ft": 0.6749999999999999, "tide_phase": "ebb", "tide_rate_ft_per_hr": -0.4899999999999999, "wave_source": "fetch", "fetch_nm": 0.8, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 26.2, "ndbc_obs_time": "2026-01-27 08:20", "fetch_nm": 0.8, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(0.8nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": -0.4899999999999999, "tide_phase": "ebb"}}}, {"a": [31.68, -81.2315], "b": [31.6702, -81.2105], "color": "#f1c40f", "label": "ok", "score": 73.1, "t": "2026-01-27 08:40", "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.2547457624554447, "wave_period_s": 2.18, "wave_steepness": 0.010464531534266441, "tide_ft": 0.5613333333333334, "tide_phase": "ebb", "tide_rate_ft_per_hr": -0.1799999999999996, "wave_source": "fetch", "fetch_nm": 0.9, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 25.1, "ndbc_obs_time": "2026-01-27 08:40", "fetch_nm": 0.9, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(0.9nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": -0.1799999999999996, "tide_phase": "ebb"}}}, {"a": [31.6702, -81.2105], "b": [31.6588, -81.188], "color": "#f1c40f", "label": "ok", "score": 71.7, "t": "2026-01-27 09:00", "detail": {"wind_kt": 6.951808, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.28508683198476353, "wave_period_s": 2.16, "wave_steepness": 0.011928764517497612, "tide_ft": 0.537, "tide_phase": "flood", "tide_rate_ft_per_hr": 0.06500000000000006, "wave_source": "fetch", "fetch_nm": 0.8, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 24.0, "ndbc_obs_time": "2026-01-27 09:00", "fetch_nm": 0.8, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(0.8nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 0.06500000000000006, "tide_phase": "flood"}}}, {"a": [31.6588, -81.188], "b": [31.6458, -81.17], "color": "#f1c40f", "label": "ok", "score": 73.2, "t": "2026-01-27 09:20", "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.28546953950916226, "wave_period_s": 2.24, "wave_steepness": 0.01110681524115568, "tide_ft": 0.608, "tide_phase": "flood", "tide_rate_ft_per_hr": 0.3200000000000003, "wave_source": "fetch", "fetch_nm": 1.2, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 22.6, "ndbc_obs_time": "2026-01-27 09:20", "fetch_nm": 1.2, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(1.2nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 0.3200000000000003, "tide_phase": "flood"}}}, {"a": [31.6458, -81.17], "b": [31.636, -81.1585], "color": "#f1c40f", "label": "ok", "score": 73.5, "t": "2026-01-27 09:40", "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3341079088597966, "wave_period_s": 2.36, "wave_steepness": 0.011710853821205326, "tide_ft": 0.77, "tide_phase": "flood", "tide_rate_ft_per_hr": 0.64, "wave_source": "fetch", "fetch_nm": 1.8, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 21.4, "ndbc_obs_time": "2026-01-27 09:40", "fetch_nm": 1.8, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(1.8nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 0.64, "tide_phase": "flood"}}}, {"a": [31.636, -81.1585], "b": [31.628887, -81.152698], "color": "#f1c40f", "label": "ok", "score": 73.6, "t": "2026-01-27 10:00", "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 1.015, "tide_phase": "flood", "tide_rate_ft_per_hr": 0.8550000000000002, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.6, "ndbc_obs_time": "2026-01-27 10:00", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 0.8550000000000002, "tide_phase": "flood"}}}, {"a": [31.628887, -81.152698], "b": [31.628887, -81.152698], "color": "#f1c40f", "label": "ok", "score": 73.6, "t": "2026-01-27 10:20", "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 1.3343333333333334, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.0350000000000004, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 10:20", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.0350000000000004, "tide_phase": "flood"}}}, {"a": [31.628887, -81.152698], "b": [31.628887, -81.152698], "color": "#f1c40f", "label": "ok", "score": 73.6, "t": "2026-01-27 10:40", "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 1.712, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.22, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 10:40", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.22, "tide_phase": "flood"}}}, {"a": [31.628887, -81.152698], "b": [31.628887, -81.152698], "color": "#f1c40f", "label": "ok", "score": 73.6, "t": "2026-01-27 11:00", "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 2.133, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.3149999999999995, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 11:00", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.3149999999999995, "tide_phase": "flood"}}}, {"a": [31.628887, -81.152698], "b": [31.628887, -81.152698], "color": "#f1c40f", "label": "ok", "score": 73.6, "t": "2026-01-27 11:20", "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 2.5829999999999997, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.3749999999999996, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 11:20", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.3749999999999996, "tide_phase": "flood"}}}, {"a": [31.628887, -81.152698], "b": [31.628887, -81.152698], "color": "#f1c40f", "label": "ok", "score": 73.6, "t": "2026-01-27 11:40", "detail": {"wind_kt": 6.082832, "wind_dir_deg": 315.0, "pop": 0.0, "wave_ft": 0.3477933262646112, "wave_period_s": 2.4, "wave_steepness": 0.011787577754175228, "tide_ft": 3.0453333333333332, "tide_phase": "flood", "tide_rate_ft_per_hr": 1.3949999999999996, "wave_source": "fetch", "fetch_nm": 2.0, "providers": {"weather_source": "nws", "nws_path": "forecastHourly", "waves_source": "fetch", "ndbc_station": "41008", "ndbc_distance_nm": 20.1, "ndbc_obs_time": "2026-01-27 11:40", "fetch_nm": 2.0, "depth_m": null, "ndbc_suppressed": true, "ndbc_suppressed_reason": "protected_water_small_fetch_and_far_buoy", "wave_source_note": "fetch_chop(2.0nm)", "coops_station_id": "8670870", "coops_station_name": "Fort Pulaski", "coops_station_distance_nm": 27.10131356656243, "coops_station": "8670870", "coops_product": "predictions", "coops_datum": "MLLW", "coops_units": "english", "coops_tz": "lst_ldt", "coops_interval": "6", "coops_begin": "2026-01-27 02:00", "coops_end": "2026-01-27 18:00", "coops_rows": 161, "tide_source": "coops", "tide_rate_ft_per_hr": 1.3949999999999996, "tide_phase": "flood"}}}];

  const map = L.map('map');

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 18,
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  function fmt(obj) {
    try { return JSON.stringify(obj, null, 2); } catch(e) { return String(obj); }
  }

  // markers
  scores.forEach((s, idx) => {
    const title = (s.detail && s.detail.providers && s.detail.providers.route_name) ? s.detail.providers.route_name : s.t_local;
    const popup = `
      <div class="popup">
        <b>${title}</b><br/>
        <b>Time:</b> ${s.t_local}<br/>
        <b>Score:</b> ${s.score_0_100} (${s.label})<br/>
        <b>Lat/Lon:</b> ${s.lat.toFixed(5)}, ${s.lon.toFixed(5)}<br/>
        <b>Detail:</b>
        <pre>${fmt(s.detail || {})}</pre>
      </div>
    `;
    L.circleMarker([s.lat, s.lon], { radius: 5 }).addTo(map).bindPopup(popup);
  });

  // colored segments
  segs.forEach((seg) => {
    const popup = `
      <div class="popup">
        <b>${seg.t}</b><br/>
        <b>Segment label:</b> ${seg.label}<br/>
        <b>Score:</b> ${seg.score}<br/>
        <b>Detail:</b>
        <pre>${fmt(seg.detail || {})}</pre>
      </div>
    `;
    L.polyline([seg.a, seg.b], { color: seg.color, weight: 6, opacity: 0.9 }).addTo(map).bindPopup(popup);
  });

  // fit bounds
  const bounds = L.latLngBounds(scores.map(s => [s.lat, s.lon]));
  map.fitBounds(bounds.pad(0.2));
</script>
</body>
</html>
